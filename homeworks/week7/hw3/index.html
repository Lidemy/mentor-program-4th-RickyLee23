<!DOCTYPE html>

<html>
        <head>
                <link rel="stylesheet" href="./index.css" />
        </head>
        <body>
          <section class = 'whole__page'>
                <section class = 'todo__list'>
                        <section class = 'todo__upper'>
                                <div class='title'>T o d o L i s t</div>
                                <input type='text' class='box' placeholder="Add something to do here ^.^ "></input>

                        </section>
                        

                </section>
          </section>

                <script>

                        const comment = document.querySelector('input')
                        document.querySelector('.box').addEventListener('keydown',function(e){  //在 box 中 keydown
                                const item = document.createElement('div')
                                if (e.keyCode === 13){
                                   item.innerHTML = `
                                <section class = 'todo__lower'>
                                <input type ='checkbox' class='checkbox'></input> 
                                <div class ='comment__disc'><div>${comment.value}</div></div>
                                <button class='button__delete'>X</button>
                                </section>
                                `
                                document.querySelector('.todo__list').appendChild(item)
                                }      
                        })
                        document.querySelector('.todo__list').addEventListener('click',function(e){
                                if (e.target.classList.contains('button__delete')){
                                        document.querySelector('.todo__list').removeChild(e.target.closest('div'))
        
                                }
                        })
                        document.querySelector('.todo__list').addEventListener('click',function(e){
                                if (e.target.classList.contains('checkbox')){
                                        if (e.target.checked){
                                        e.target.parentNode.querySelector('div > div').classList.add('done')
                                        } else {
                                        e.target.parentNode.querySelector('div > div').classList.remove('done')
                                        }
                                }
                        })
                                
                </script>


        </body>
</html>